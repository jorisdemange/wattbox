; PlatformIO Project Configuration File for ESP32-CAM
; Integrated with WattBox Electricity Monitoring System
;
; Build options: build flags, source filter
; Upload options: custom upload port, speed and extra flags
; Library options: dependencies, extra library storages

[env:esp32cam]
platform = espressif32
board = esp32cam
framework = arduino

; Upload settings - adjusted for your connected ESP32
upload_speed = 115200  ; Slower speed for ESP32-CAM-MB board
monitor_speed = 115200
; Detected port: /dev/cu.usbserial-210
upload_port = /dev/cu.usbserial-210
monitor_port = /dev/cu.usbserial-210

; Build flags for ESP32-CAM with PSRAM support
build_flags = 
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue
    -DCORE_DEBUG_LEVEL=3
    -DLED_BUILTIN=33        ; ESP32-CAM flash LED pin
    -DCAMERA_MODEL_AI_THINKER

; Library dependencies
lib_deps = 
    ; Camera support library
    esp32-camera
    ; HTTP client for API integration
    bblanchon/ArduinoJson @ ^7.0.0

; Partition scheme for larger apps
board_build.partitions = huge_app.csv

; Enable filesystem upload for web files (optional)
board_build.filesystem = littlefs